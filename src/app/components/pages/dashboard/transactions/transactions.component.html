<div class="card accounts-container">
	<div class="card-header">
		<div class="card-header-content">
			<h5 class="title">TRANSACTIONS</h5>
			<button class="header-btn" md-button (click)="toggleNewTransaction()">
				<span *ngIf="!newTransactionToggle">
					Add transaction <i class="fa fa-plus-square-o"></i>
				</span>
				<span *ngIf="newTransactionToggle">
					Cancel <i class="fa fa-minus-square-o"></i>
				</span>
			</button>
		</div>
	</div>
	<div class="card-content">
		<!-- <div class="table-header">
			<div class="row table-row">
				<div class="header-item row-item col-sm-2 col-xs-3">
					<button class="header-btn" (click)="changeOrder('timestamp')">Date</button>
				</div>
				<div class="header-item row-item col-sm-3 col-xs-5">
					<button class="header-btn" (click)="changeOrder('description')">Description</button>
				</div>
				<div class="header-item row-item col-sm-3 hidden-xs">
					<button class="header-btn" (click)="changeOrder('category')">Category</button>
				</div>
				<div class="header-item row-item col-sm-2 hidden-xs">
					<button class="header-btn" (click)="changeOrder('account')">Account</button>
				</div>
				<div class="header-item row-item col-sm-2 col-xs-4">
					<button class="header-btn" (click)="changeOrder('amount')">Amount</button>
				</div>
			</div>
		</div> -->
		<div class="table-data">

			<app-new-transaction-form (transactionComplete)="onTrasactionComplete()" [accounts]="accounts"	*ngIf="newTransactionToggle"></app-new-transaction-form>

      <div class="no-transactions-container" *ngIf="transactions?.length === 0">
        No transactions
      </div>

			<ul class="transactions-list" *ngIf="accounts">
				<li
          class="transaction-item"
          [ngClass]="{ 'income': transaction.type == 'income','expense': transaction.type == 'expense', 'transfer': transaction.type == 'transfer' }"
          *ngFor="let transaction of transactions" (click)="deleteTransaction(transaction)">
					<div class="row table-row">
						<div class="row-item col-sm-2 col-xs-3">{{ transaction.timestamp | date:'MMM d' | truncate : 6 : '..' }}</div>
						<div class="row-item col-sm-3 col-xs-5" [mdTooltip]="transaction.description.length > 11 ? transaction.description : ''" matTooltipShowDelay="500">{{ transaction.description | truncate : 11 : '..' }}</div>
						<div class="row-item col-sm-3 hidden-xs">{{ transaction.category | capitalize }}</div>
						<div class="row-item col-sm-2 hidden-xs">{{ transaction.toAccount | capitalize }}</div>
						<div class="row-item col-sm-2 col-xs-4">{{ transaction.amount | currency : 'USD' : true | truncate : 9 : '..' }}</div>
					</div>
				</li>
			</ul>

      <app-spinner *ngIf="!transactions"></app-spinner>
		</div>
	</div>
</div>

